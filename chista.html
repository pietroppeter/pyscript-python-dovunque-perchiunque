<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Button Text Cycle with PyScript</title>
    <style>
        /* Center the button both horizontally and vertically */
        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }

        /* Style the button to be very big */
        button {
            font-size: 50px;
            padding: 20px 40px;
            cursor: pointer;
        }
    </style>
    <!-- Load PyScript -->
    <link rel="stylesheet" href="https://pyscript.net/latest/pyscript.css" />
    <script defer src="https://pyscript.net/latest/pyscript.js"></script>
</head>
<body>
    <button id="cycleButton">this</button>

    <!-- PyScript code -->
    <py-script>
        # Import the necessary PyScript module
        from pyscript import Element

        # Texts to cycle through
        texts = ["this", "foo", "bar"]
        current_index = 0

        # Function to handle button click
        def cycle_text(event):
            global current_index
            # Update the current index
            current_index = (current_index + 1) % len(texts)
            # Update the button text
            Element("cycleButton").write(texts[current_index])

        # Attach the function to the button click event
        Element("cycleButton").element.addEventListener("click", cycle_text)
    </py-script>
</body>
</html>
